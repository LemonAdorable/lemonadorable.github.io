---
import SearchStyles from './styles/search.css?url'
---

<div class="search">
  <button class="search-button" aria-label="搜索">
    <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
      <title>搜索</title>
      <g fill="none" fill-rule="evenodd">
        <path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/>
        <path fill="currentColor" d="M5 10a5 5 0 1 1 10 0a5 5 0 0 1-10 0m5-7a7 7 0 1 0 4.192 12.606l5.1 5.101a1 1 0 0 0 1.415-1.414l-5.1-5.1A7 7 0 0 0 10 3"/>
      </g>
    </svg>
  </button>
  <div class="search-container" style="display: none; visibility: hidden; opacity: 0;">
    <div class="search-space">
      <input
        autocomplete="off"
        class="search-bar"
        name="search"
        type="text"
        aria-label="搜索"
        placeholder="搜索文章..."
      />
      <div class="search-filters">
        <div class="filter-group">
          <label class="filter-label">时间范围</label>
          <select class="filter-select" data-filter="date">
            <option value="all">全部时间</option>
            <option value="year">今年</option>
            <option value="6months">近6个月</option>
            <option value="3months">近3个月</option>
            <option value="month">近1个月</option>
          </select>
        </div>
        <div class="filter-group">
          <label class="filter-label">标签</label>
          <div class="filter-multiselect" data-filter="tags">
            <button class="filter-multiselect-button" type="button" aria-label="选择标签">
              <span class="filter-multiselect-text">全部</span>
              <span class="filter-multiselect-arrow">▼</span>
            </button>
            <div class="filter-multiselect-dropdown">
              <!-- 选项将由 JavaScript 动态生成 -->
            </div>
          </div>
        </div>
        <div class="filter-group">
          <label class="filter-label">类型</label>
          <div class="filter-multiselect" data-filter="type">
            <button class="filter-multiselect-button" type="button" aria-label="选择类型">
              <span class="filter-multiselect-text">全部</span>
              <span class="filter-multiselect-arrow">▼</span>
            </button>
            <div class="filter-multiselect-dropdown">
              <div class="filter-multiselect-option">
                <input type="checkbox" id="type-all" value="all" checked />
                <label for="type-all">全部</label>
              </div>
              <div class="filter-multiselect-option">
                <input type="checkbox" id="type-blog" value="blog" />
                <label for="type-blog">文章</label>
              </div>
              <div class="filter-multiselect-option">
                <input type="checkbox" id="type-docs" value="docs" />
                <label for="type-docs">文档</label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="search-layout" data-preview="true"></div>
    </div>
  </div>
</div>

<link rel="stylesheet" href={SearchStyles} />
<script>
  import('./scripts/search.ts')
</script>

