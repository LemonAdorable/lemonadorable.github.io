---
import links from 'public/links.json'
import config from 'virtual:config'

import { Collapse, Timeline } from 'astro-pure/user'
import PageLayout from '@/layouts/CommonPage.astro'
import FriendList from '@/components/links/FriendList.astro'

const headings = [
  { depth: 2, slug: 'common-links', text: 'å¸¸ç”¨é“¾æ¥' },
  { depth: 2, slug: 'project-links', text: 'é¡¹ç›®é“¾æ¥' },
  { depth: 2, slug: 'special-links', text: 'ç‰¹æ®Šé“¾æ¥' },
  { depth: 2, slug: 'apply-links', text: 'ç”³è¯·å‹é“¾' }
]

const { friends } = links
const linksConf = config.integ.links
const linkEditPage = 'https://github.com/cworld1/astro-theme-pure/blob/main/public/links.json'

const projectLinks = {
  id_name: 'project-links',
  desc: 'My Projects',
  link_list: [
    {
      name: 'Guadao',
      intro: 'å»ä¸­å¿ƒåŒ–å†…å®¹ç¤¾ç¾¤',
      link: 'https://guadao.vercel.app/',
      avatar: 'https://guadao.vercel.app/icon.svg'
    },
    {
      name: 'BullBear Dashboard',
      intro: 'åŠ å¯†å¸‚åœºç‰›ç†ŠçŠ¶æ€æœº',
      link: 'https://lemonadorable.github.io/bullbear-dashboard/',
      avatar:
        'data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ‰</text></svg>'
    }
  ]
}
---

<PageLayout title='é“¾æ¥' {headings} comment hideBack>
  <p>é“¾æ¥éšæœºæ’åºã€‚</p>
  <h2 id='common-links'>å¸¸ç”¨é“¾æ¥</h2>
  <FriendList list={friends[0]} />
  <Collapse title='çŠ¶æ€å¼‚å¸¸çš„é“¾æ¥'>
    <FriendList list={friends[1]} />
  </Collapse>
  <Collapse title='é“¾æ¥å†å²è®°å½•'>
    <Timeline events={linksConf.logbook} />
  </Collapse>

  <h2 id='project-links'>é¡¹ç›®é“¾æ¥</h2>
  <FriendList list={projectLinks} />

  <h2 id='special-links'>ç‰¹æ®Šé“¾æ¥</h2>
  <FriendList list={friends[2]} />

  <h2 id='apply-links'>ç”³è¯·å‹é“¾</h2>
  <p>æœ¬ç«™ä¿¡æ¯ï¼ˆç‚¹å‡»å¤åˆ¶ï¼‰ï¼š</p>
  <blockquote class='not-prose grid grid-cols-[auto_1fr] gap-x-2 break-words border-s-4 ps-4'>
    {
      linksConf.applyTip.map(({ name, val }) => {
        const script = `navigator.clipboard.writeText('${val}');document.dispatchEvent(new CustomEvent('toast',{detail:{message:'Copied "${val}" to clipboard!'}}))`
        return (
          <>
            <span class='text-end'>{name}:</span>
            <samp class='cursor-pointer' onclick={script}>
              {val}
            </samp>
          </>
        )
      })
    }
  </blockquote>

  <p>
    å¯é€šè¿‡ä¸‹æ–¹ç•™è¨€æˆ– <a href={linkEditPage} target='_blank'>æäº¤ PR</a> ç”³è¯·å‹é“¾ã€‚ç”³è¯·è¯´æ˜ï¼š
  </p>
  <ul>
    <li>æ¨èäº†æœ¬ç«™</li>
    <li>ç«™ç‚¹æ´»ç€ä¸”æœ‰æ­£å¼åŸŸå</li>
    <li>è‡³å°‘äº”ç¯‡åŸåˆ›æ–‡ç« ä¸”æœ€è¿‘ä¸€å¹´æ›´æ–°è¿‡</li>
    <li>å†…å®¹ä¸è¿åå›½å®¶æ³•å¾‹</li>
  </ul>
</PageLayout>
